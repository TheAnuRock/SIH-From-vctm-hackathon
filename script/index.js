
// Enhanced translations with new content
const translations = {
    en: {
        website_title: "Gramik Digital Pathshala",
        nav_home: "Home",
        nav_courses: "Courses",
        nav_roles: "For You",
        nav_mentor: "AI Mentor",
        nav_about: "About Us",
        nav_join: "Join Now",
        hero_heading: "Empowering Education, One Step at a Time",
        hero_subheading: "Welcome to Gramik Digital Pathshala, your all-in-one platform for quality courses and smart learning. Step into the world of knowledge and unlock your full potential.",
        explore_button: "Explore Courses",
        intro_title: "What is Gramik Digital Pathshala?",
        intro_para1: "Gramik Digital Pathshala is an online platform designed to help students grow with enthusiasm and a clear understanding of their subjects. Our mission is to provide every child with a world-class learning experience right from their home.",
        intro_para2: "On our website, you can achieve your dreams through interactive lessons, live classes, and continuous support. This is your personal learning ecosystem, built for your success.",
        roles_title: "Designed For Everyone",
        student_title: "For Students",
        student_desc: "Access personalized learning paths, interactive content, and progress tracking.",
        student_feature1: "Interactive lessons and quizzes",
        student_feature2: "Personalized learning dashboard",
        student_feature3: "Progress tracking and analytics",
        student_feature4: "24/7 access to learning materials",
        student_button: "Student Portal",
        teacher_title: "For Teachers",
        teacher_desc: "Create engaging content, track student progress, and manage your classes.",
        teacher_feature1: "Course creation tools",
        teacher_feature2: "Student progress monitoring",
        teacher_feature3: "Assignment and grading system",
        teacher_feature4: "Communication tools",
        teacher_button: "Teacher Portal",
        mentor_title: "For Mentors",
        mentor_desc: "Guide students, provide feedback, and help them achieve their academic goals.",
        mentor_feature1: "Student mentoring dashboard",
        mentor_feature2: "Progress review tools",
        mentor_feature3: "Personalized feedback system",
        mentor_feature4: "Goal setting and tracking",
        mentor_button: "Mentor Portal",
        courses_title: "Popular Courses",
        course1_title: "Mathematics Fundamentals",
        course1_desc: "Master the basics of algebra, geometry, and arithmetic with interactive lessons.",
        course2_title: "Science Explorers",
        course2_desc: "Discover the wonders of physics, chemistry, and biology through experiments.",
        course3_title: "Language & Literature",
        course3_desc: "Improve your language skills and explore classic and contemporary literature.",
        course_button: "Enroll Now",
        chat_header: "Ask Gemini anything!",
        chat_welcome: "Hello! I'm Gemini, your AI learning assistant. How can I help you with your studies today?",
        chat_placeholder: "Type your question...",
        chat_send_button: "Ask",
        about_title: "Our Story",
        about_para1: "Gramik Digital Pathshala is not just a platform, but a vision to provide excellent and accessible education to every child. We want to build a community where learning is not confined to books, but becomes an interesting and interactive experience.",
        about_para2: "Our team includes experienced educators, modern technology experts, and passionate individuals who are committed to lighting up your child's future. Our goal is for every student to reach their full potential.",
        footer_text: "© 2025 Gramik Digital Pathshala. All Rights Reserved. Designed with ❤️ for Future Leaders."
    },
    hi: {
        website_title: "ग्रामिक डिजिटल पाठशाला",
        nav_home: "होम",
        nav_courses: "कोर्स",
        nav_roles: "आपके लिए",
        nav_mentor: "एआई मेंटर",
        nav_about: "हमारे बारे में",
        nav_join: "अभी जुड़ें",
        hero_heading: "शिक्षा को सशक्त बनाएं, एक-एक कदम करके",
        hero_subheading: "ग्रामिक डिजिटल पाठशाला में आपका स्वागत है, गुणवत्तापूर्ण पाठ्यक्रमों और स्मार्ट लर्निंग के लिए आपका ऑल-इन-वन प्लेटफॉर्म। ज्ञान की दुनिया में कदम रखें और अपनी पूरी क्षमता को अनलॉक करें।",
        explore_button: "कोर्स एक्सप्लोर करें",
        intro_title: "ग्रामिक डिजिटल पाठशाला क्या है?",
        intro_para1: "ग्रामिक डिजिटल पाठशाला एक ऑनलाइन मंच है जो छात्रों को उत्साह और अपने विषयों की स्पष्ट समझ के साथ आगे बढ़ने में मदद करने के लिए बनाया गया है। हमारा मिशन हर बच्चे को उनके घर से ही विश्वस्तरीय सीखने का अनुभव प्रदान करना है।",
        intro_para2: "हमारी वेबसाइट पर, आप इंटरैक्टिव पाठ, लाइव कक्षाएं और निरंतर समर्थन के माध्यम से अपने सपनों को प्राप्त कर सकते हैं। यह आपकी व्यक्तिगत सीखने की दुनिया है, जो आपकी सफलता के लिए बनाई गई है।",
        roles_title: "सभी के लिए डिज़ाइन किया गया",
        student_title: "छात्रों के लिए",
        student_desc: "व्यक्तिगत सीखने के रास्ते, इंटरैक्टिव सामग्री और प्रगति ट्रैकिंग तक पहुंचें।",
        student_feature1: "इंटरैक्टिव पाठ और क्विज़",
        student_feature2: "व्यक्तिगत सीखने का डैशबोर्ड",
        student_feature3: "प्रगति ट्रैकिंग और विश्लेषण",
        student_feature4: "सीखने की सामग्री तक 24/7 पहुंच",
        student_button: "छात्र पोर्टल",
        teacher_title: "शिक्षकों के लिए",
        teacher_desc: "आकर्षक सामग्री बनाएं, छात्र प्रगति ट्रैक करें और अपनी कक्षाएं प्रबंधित करें।",
        teacher_feature1: "कोर्स निर्माण उपकरण",
        teacher_feature2: "छात्र प्रगति निगरानी",
        teacher_feature3: "असाइनमेंट और ग्रेडिंग सिस्टम",
        teacher_feature4: "संचार उपकरण",
        teacher_button: "शिक्षक पोर्टल",
        mentor_title: "मेंटर्स के लिए",
        mentor_desc: "छात्रों का मार्गदर्शन करें, प्रतिक्रिया दें और उन्हें अपने शैक्षणिक लक्ष्यों को प्राप्त करने में मदद करें।",
        mentor_feature1: "छात्र मेंटरिंग डैशबोर्ड",
        mentor_feature2: "प्रगति समीक्षा उपकरण",
        mentor_feature3: "व्यक्तिगत प्रतिक्रिया प्रणाली",
        mentor_feature4: "लक्ष्य निर्धारण और ट्रैकिंग",
        mentor_button: "मेंटर पोर्टल",
        courses_title: "लोकप्रिय कोर्स",
        course1_title: "गणित के मूल सिद्धांत",
        course1_desc: "इंटरैक्टिव पाठों के साथ बीजगणित, ज्यामिति और अंकगणित की मूल बातें सीखें।",
        course2_title: "विज्ञान अन्वेषक",
        course2_desc: "प्रयोगों के माध्यम से भौतिकी, रसायन विज्ञान और जीव विज्ञान के चमत्कारों की खोज करें।",
        course3_title: "भाषा और साहित्य",
        course3_desc: "अपने भाषा कौशल में सुधार करें और क्लासिक और समकालीन साहित्य का अन्वेषण करें।",
        course_button: "अभी नामांकन करें",
        chat_header: "जेमिनी से कुछ भी पूछें!",
        chat_welcome: "नमस्ते! मैं जेमिनी हूं, आपकी एआई लर्निंग असिस्टेंट। आज मैं आपकी पढ़ाई में कैसे मदद कर सकता हूँ?",
        chat_placeholder: "अपना सवाल लिखें...",
        chat_send_button: "पूछें",
        about_title: "हमारी कहानी",
        about_para1: "ग्रामिक डिजिटल पाठशाला सिर्फ एक मंच नहीं, बल्कि एक दृष्टि है - हर बच्चे तक बेहतरीन और सुलभ शिक्षा पहुंचाना। हम एक ऐसी कम्युनिटी बनाना चाहते हैं जहां सीखना सिर्फ किताबों तक सीमित न हो, बल्कि एक रोचक और इंटरैक्टिव अनुभव बन जाए।",
        about_para2: "हमारी टीम में अनुभवी शिक्षक, आधुनिक प्रौद्योगिकी विशेषज्ञ, और उत्साही व्यक्ति शामिल हैं, जो मिलकर आपके बच्चे के भविष्य को रोशन करने के लिए प्रतिबद्ध हैं। हमारा मकसद है कि हर छात्र अपनी पूरी क्षमता तक पहुंचे।",
        footer_text: "© 2025 ग्रामिक डिजिटल पाठशाला। सर्वाधिकार सुरक्षित। भविष्य के नेताओं के लिए ❤️ के साथ डिज़ाइन किया गया।"
    },
    pa: {
        website_title: "ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ",
        nav_home: "ਘਰ",
        nav_courses: "ਕੋਰਸ",
        nav_roles: "ਤੁਹਾਡੇ ਲਈ",
        nav_mentor: "ਏਆਈ ਮੈਂਟਰ",
        nav_about: "ਸਾਡੇ ਬਾਰੇ",
        nav_join: "ਹੁਣੇ ਜੁੜੋ",
        hero_heading: "ਸ਼ਿਖਿਆ ਨੂੰ ਮਜ਼ਬੂਤ ਬਣਾਓ, ਇੱਕ ਕਦਮ ਤੇ ਇੱਕ ਕਦਮ",
        hero_subheading: "ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ ਵਿੱਚ ਤੁਹਾਡਾ ਸਵਾਗਤ ਹੈ, ਗੁਣਵੱਤਾ ਵਾਲੇ ਕੋਰਸ ਅਤੇ ਸਮਾਰਟ ਲਰਨਿੰਗ ਲਈ ਤੁਹਾਡਾ ਆਲ-ਇਨ-ਵਨ ਪਲੇਟਫਾਰਮ। ਗਿਆਨ ਦੀ ਦੁਨੀਆ ਵਿੱਚ ਕਦਮ ਰੱਖੋ ਅਤੇ ਆਪਣੀ ਪੂਰੀ ਸਮਰੱਥਾ ਨੂੰ ਖੋਲ੍ਹੋ।",
        explore_button: "ਕੋਰਸ ਵੇਖੋ",
        intro_title: "ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ ਕੀ ਹੈ?",
        intro_para1: "ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ ਇੱਕ ਆਨਲਾਈਨ ਪਲੇਟਫਾਰਮ ਹੈ ਜੋ ਵਿਦਿਆਰਥੀਆਂ ਨੂੰ ਉਤਸ਼ਾਹ ਅਤੇ ਆਪਣੇ ਵਿਸ਼ਿਆਂ ਦੀ ਸਪਸ਼ਟ ਸਮਝ ਨਾਲ ਅੱਗੇ ਵਧਣ ਵਿੱਚ ਮਦਦ ਕਰਨ ਲਈ ਬਣਾਇਆ ਗਿਆ ਹੈ। ਸਾਡਾ ਮਿਸ਼ਨ ਹਰ ਬੱਚੇ ਨੂੰ ਉਹਨਾਂ ਦੇ ਘਰ ਤੋਂ ਹੀ ਵਿਸ਼ਵ-ਪੱਧਰੀ ਸਿੱਖਣ ਦਾ ਅਨੁਭਵ ਦੇਣਾ ਹੈ।",
        intro_para2: "ਸਾਡੀ ਵੈਬਸਾਈਟ 'ਤੇ, ਤੁਸੀਂ ਇੰਟਰੈਕਟਿਵ ਪਾਠਾਂ, ਲਾਈਵ ਕਲਾਸਾਂ ਅਤੇ ਲਗਾਤਾਰ ਸਹਾਇਤਾ ਰਾਹੀਂ ਆਪਣੇ ਸੁਪਨਿਆਂ ਨੂੰ ਪੂਰਾ ਕਰ ਸਕਦੇ ਹੋ। ਇਹ ਤੁਹਾਡਾ ਨਿੱਜੀ ਸਿੱਖਣ ਦਾ ਪਰਿਵੇਸ਼ ਹੈ, ਜੋ ਤੁਹਾਡੀ ਸਫਲਤਾ ਲਈ ਬਣਾਇਆ ਗਿਆ ਹੈ।",
        roles_title: "ਸਭ ਲਈ ਡਿਜ਼ਾਈਨ ਕੀਤਾ ਗਿਆ",
        student_title: "ਵਿਦਿਆਰਥੀਆਂ ਲਈ",
        student_desc: "ਨਿੱਜੀਕ੍ਰਿਤ ਸਿੱਖਣ ਦੇ ਰਸਤੇ, ਇੰਟਰੈਕਟਿਵ ਸਮੱਗਰੀ ਅਤੇ ਪ੍ਰਗਤੀ ਟਰੈਕਿੰਗ ਤੱਕ ਪਹੁੰਚ ਕਰੋ।",
        student_feature1: "ਇੰਟਰੈਕਟਿਵ ਪਾਠ ਅਤੇ ਕੁਇਜ਼",
        student_feature2: "ਨਿੱਜੀਕ੍ਰਿਤ ਸਿੱਖਣ ਦਾ ਡੈਸ਼ਬੋਰਡ",
        student_feature3: "ਪ੍ਰਗਤੀ ਟਰੈਕਿੰਗ ਅਤੇ ਵਿਸ਼ਲੇਸ਼ਣ",
        student_feature4: "ਸਿੱਖਣ ਦੀ ਸਮੱਗਰੀ ਤੱਕ 24/7 ਪਹੁੰਚ",
        student_button: "ਵਿਦਿਆਰਥੀ ਪੋਰਟਲ",
        teacher_title: "ਅਧਿਆਪਕਾਂ ਲਈ",
        teacher_desc: "ਦਿਲਚਸਪ ਸਮੱਗਰੀ ਬਣਾਓ, ਵਿਦਿਆਰਥੀ ਪ੍ਰਗਤੀ ਟਰੈਕ ਕਰੋ ਅਤੇ ਆਪਣੀਆਂ ਕਲਾਸਾਂ ਪ੍ਰਬੰਧਿਤ ਕਰੋ।",
        teacher_feature1: "ਕੋਰਸ ਬਣਾਉਣ ਦੇ ਟੂਲ",
        teacher_feature2: "ਵਿਦਿਆਰਥੀ ਪ੍ਰਗਤੀ ਨਿਗਰਾਨੀ",
        teacher_feature3: "ਅਸਾਈਨਮੈਂਟ ਅਤੇ ਗ੍ਰੇਡਿੰਗ ਸਿਸਟਮ",
        teacher_feature4: "ਸੰਚਾਰ ਟੂਲ",
        teacher_button: "ਅਧਿਆਪਕ ਪੋਰਟਲ",
        mentor_title: "ਮੈਂਟਰਾਂ ਲਈ",
        mentor_desc: "ਵਿਦਿਆਰਥੀਆਂ ਦਾ ਮਾਰਗਦਰਸ਼ਨ ਕਰੋ, ਫੀਡਬੈਕ ਦਿਓ ਅਤੇ ਉਹਨਾਂ ਨੂੰ ਆਪਣੇ ਅਕਾਦਮਿਕ ਟੀਚੇ ਪ੍ਰਾਪਤ ਕਰਨ ਵਿੱਚ ਮਦਦ ਕਰੋ।",
        mentor_feature1: "ਵਿਦਿਆਰਥੀ ਮੈਂਟਰਿੰਗ ਡੈਸ਼ਬੋਰਡ",
        mentor_feature2: "ਪ੍ਰਗਤੀ ਸਮੀਖਿਆ ਟੂਲ",
        mentor_feature3: "ਨਿੱਜੀਕ੍ਰਿਤ ਫੀਡਬੈਕ ਸਿਸਟਮ",
        mentor_feature4: "ਟੀਚਾ ਨਿਰਧਾਰਨ ਅਤੇ ਟਰੈਕਿੰਗ",
        mentor_button: "ਮੈਂਟਰ ਪੋਰਟਲ",
        courses_title: "ਲੋਕਪ੍ਰਿਯ ਕੋਰਸ",
        course1_title: "ਗਣਿਤ ਦੇ ਮੂਲ ਸਿਧਾਂਤ",
        course1_desc: "ਇੰਟਰੈਕਟਿਵ ਪਾਠਾਂ ਨਾਲ ਬੀਜਗਣਿਤ, ਜਿਓਮੈਟਰੀ ਅਤੇ ਅੰਕਗਣਿਤ ਦੀਆਂ ਮੂਲ ਗੱਲਾਂ ਮਾਸਟਰ ਕਰੋ।",
        course2_title: "ਵਿਗਿਆਨ ਐਕਸਪਲੋਰਰ",
        course2_desc: "ਪ੍ਰਯੋਗਾਂ ਦੁਆਰਾ ਭੌਤਿਕ ਵਿਗਿਆਨ, ਰਸਾਇਣ ਵਿਗਿਆਨ ਅਤੇ ਜੀਵ ਵਿਗਿਆਨ ਦੇ ਅਜੂਬਿਆਂ ਦੀ ਖੋਜ ਕਰੋ।",
        course3_title: "ਭਾਸ਼ਾ ਅਤੇ ਸਾਹਿਤ",
        course3_desc: "ਆਪਣੇ ਭਾਸ਼ਾ ਹੁਨਰ ਵਿੱਚ ਸੁਧਾਰ ਕਰੋ ਅਤੇ ਕਲਾਸਿਕ ਅਤੇ ਸਮਕਾਲੀ ਸਾਹਿਤ ਦੀ ਖੋਜ ਕਰੋ।",
        course_button: "ਹੁਣੇ ਦਾਖਲਾ ਲਵੋ",
        chat_header: "ਜੈਮਿਨੀ ਨੂੰ ਕੁਝ ਵੀ ਪੁੱਛੋ!",
        chat_welcome: "ਸਤ ਸ੍ਰੀ ਅਕਾਲ! ਮੈਂ ਜੈਮਿਨੀ ਹਾਂ, ਤੁਹਾਡੀ ਏਆਈ ਲਰਨਿੰਗ ਅਸਿਸਟੈਂਟ। ਅੱਜ ਮੈਂ ਤੁਹਾਡੀ ਪੜ੍ਹਾਈ ਵਿੱਚ ਕਿਵੇਂ ਮਦਦ ਕਰ ਸਕਦਾ ਹਾਂ?",
        chat_placeholder: "ਆਪਣਾ ਸਵਾਲ ਲਿਖੋ...",
        chat_send_button: "ਪੁੱਛੋ",
        about_title: "ਸਾਡੀ ਕਹਾਣੀ",
        about_para1: "ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ ਸਿਰਫ ਇੱਕ ਪਲੇਟਫਾਰਮ ਨਹੀਂ, ਸਗੋਂ ਇੱਕ ਵਿਜ਼ਨ ਹੈ - ਹਰ ਬੱਚੇ ਤੱਕ ਸ਼ਾਨਦਾਰ ਅਤੇ ਪਹੁੰਚਯੋਗ ਸਿੱਖਿਆ ਪਹੁੰਚਾਉਣਾ। ਅਸੀਂ ਇੱਕ ਐਸੀ ਕਮਿਊਨਟੀ ਬਣਾਉਣਾ ਚਾਹੁੰਦੇ ਹਾਂ ਜਿੱਥੇ ਸਿੱਖਣਾ ਸਿਰਫ ਕਿਤਾਬਾਂ ਤੱਕ ਸੀਮਿਤ ਨਾ ਰਹੇ, ਸਗੋਂ ਇੱਕ ਦਿਲਚਸਪ ਅਤੇ ਇੰਟਰੈਕਟਿਵ ਅਨੁਭਵ ਬਣੇ।",
        about_para2: "ਸਾਡੀ ਟੀਮ ਵਿੱਚ ਅਨੁਭਵੀ ਅਧਿਆਪਕ, ਆਧੁਨਿਕ ਤਕਨਾਲੋਜੀ ਵਿਸ਼ੇਸ਼ਜਣ, ਅਤੇ ਉਤਸ਼ਾਹੀ ਲੋਕ ਸ਼ਾਮਲ ਹਨ, ਜੋ ਮਿਲਕੇ ਤੁਹਾਡੇ ਬੱਚੇ ਦਾ ਭਵਿੱਖ ਰੌਸ਼ਨ ਕਰਨ ਲਈ ਵਚਨਬੱਧ ਹਨ। ਸਾਡਾ ਲਕਸ਼ ਹੈ ਕਿ ਹਰ ਵਿਦਿਆਰਥੀ ਆਪਣੀ ਪੂਰੀ ਸਮਰੱਥਾ ਤੱਕ ਪਹੁੰਚੇ।",
        footer_text: "© 2025 ਗ੍ਰਾਮਿਕ ਡਿਜ਼ਿਟਲ ਪਾਠਸ਼ਾਲਾ। ਸਭ ਹੱਕ ਰਾਖਵੇਂ ਹਨ। ਭਵਿੱਖ ਦੇ ਲੀਡਰਾਂ ਲਈ ❤️ ਨਾਲ ਡਿਜ਼ਾਈਨ ਕੀਤਾ ਗਿਆ।"
    }
};

// DOM Elements
const languageSelector = document.getElementById('language-selector');
const chatMessages = document.getElementById('chat-messages');
const userInput = document.getElementById('user-input');
const sendButton = document.getElementById('send-button');

// Create message element
function createMessageElement(message, sender) {
    const messageElement = document.createElement('div');
    messageElement.classList.add(sender === 'user' ? 'user-message' : 'gemini-message');
    messageElement.textContent = message;
    return messageElement;
}

// Create typing indicator
function createTypingIndicator() {
    const typingElement = document.createElement('div');
    typingElement.classList.add('gemini-message', 'typing-indicator');
    typingElement.innerHTML = `
    Gemini is typing
    <div class="typing-dot"></div>
    <div class="typing-dot"></div>
    <div class="typing-dot"></div>
    `;
    return typingElement;
}

// Enhanced AI response function
async function getGeminiResponse(question) {
    // Simulate API call with a delay
    await new Promise(resolve => setTimeout(resolve, 1500));

    // Simple response logic - in a real implementation, this would connect to an AI API
    const responses = {
        "hello": "Hello! How can I assist you with your studies today?",
        "hi": "Hi there! What would you like to learn about?",
        "math": "Mathematics is a fascinating subject! Are you looking for help with algebra, geometry, or another topic?",
        "science": "Science helps us understand the world around us. Would you like to explore physics, chemistry, or biology?",
        "english": "English language and literature open doors to communication and creativity. What specific area would you like help with?",
        "help": "I'm here to help! You can ask me about any subject, homework problems, or study techniques.",
        "courses": "We offer courses in Mathematics, Science, Language & Literature, and more. Which subject interests you?"
    };

    const lowerQuestion = question.toLowerCase();

    // Check for keywords in the question
    for (const [key, response] of Object.entries(responses)) {
        if (lowerQuestion.includes(key)) {
            return response;
        }
    }

    // Default response if no keywords match
    return `I understand you're asking about "${question}". As an AI learning assistant, I can help explain concepts, provide study tips, or guide you to relevant resources. Could you be more specific about what you'd like to learn?`;
}

// Handle sending messages
async function handleSendMessage() {
    const question = userInput.value.trim();
    if (!question) return;

    // Add user message to chat
    chatMessages.appendChild(createMessageElement(question, 'user'));
    userInput.value = '';
    chatMessages.scrollTop = chatMessages.scrollHeight;

    // Show typing indicator
    const typingIndicator = createTypingIndicator();
    chatMessages.appendChild(typingIndicator);
    chatMessages.scrollTop = chatMessages.scrollHeight;

    // Get AI response
    const answer = await getGeminiResponse(question);

    // Remove typing indicator and add AI response
    chatMessages.removeChild(typingIndicator);
    chatMessages.appendChild(createMessageElement(answer, 'gemini'));
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Event listeners
sendButton.addEventListener('click', handleSendMessage);
userInput.addEventListener('keydown', (event) => {
    if (event.key === 'Enter') {
        handleSendMessage();
    }
});

// Language translation functionality
function updateContent(language) {
    const currentTranslations = translations[language];
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (currentTranslations[key]) {
            element.innerHTML = currentTranslations[key];
        }
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (currentTranslations[key]) {
            element.placeholder = currentTranslations[key];
        }
    });
}

// Initialize with stored language or default to English
const storedLanguage = localStorage.getItem('language') || 'en';
languageSelector.value = storedLanguage;
updateContent(storedLanguage);

// Update language when selector changes
languageSelector.addEventListener('change', (event) => {
    const newLanguage = event.target.value;
    localStorage.setItem('language', newLanguage);
    updateContent(newLanguage);
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;

        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            window.scrollTo({
                top: targetElement.offsetTop - 100,
                behavior: 'smooth'
            });
        }
    });
});
